<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sign-Up Sheet</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/signup.css">
</head>
<script src="../js/signup.js"></script>
<body>
<form id="signup">
    <div class="signup_block">
    <h2 class="signup">SIGN-UP</h2>

    <div class="profile">
        <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png" alt="Profile Picture">
        <p class="avatar"> Change Avatar </p>
    </div>

    <div class="id">
        <label>ID Number *</label>
        <input type="text" id="idnumber" required>
    </div>

    <div class="username">
        <label>Username *</label>
        <input type="text" id="user" required>
    </div>

    <div class="password">
        <label>Password *</label>
        <input type="password" id="password" required>
    </div>

    <div class="email">
        <label>Email *</label>
        <input type="email" id="email" required>
    </div>

    <div class="buttons">
        <button type="button" class="google-btn">Sign-up with Google</button>
        <button type="submit" class="submit-btn">Sign-Up</button>
    </div>

    <a href="login.html" class="login-link">Already have an account</a>
</div>
</form>


      <script src="../js/auth.js"></script>
        <script>
            document.getElementById('signupForm').addEventListener('submit', function (e) {
                e.preventDefault();

                const userData = {
                    firstName: document.getElementById('first_name').value,
                    lastName: document.getElementById('last_name').value,
                    username: document.getElementById('username').value,
                    password: document.getElementById('password').value,
                    idNumber: document.getElementById('id_num').value,
                };

                const errorMsg = document.getElementById('errorMsg');

                if (signup(userData)) {
                    alert('Account created successfully!');
                    window.location.href = 'reservation.html';
                } else {
                    errorMsg.textContent = 'Username already exists';
                    errorMsg.style.display = 'block';
                }
            });
        </script>
  </body>
</html>
